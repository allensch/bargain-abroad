// Generated by CoffeeScript 1.6.2
(function() {
  App.IndexView = Ember.View.extend({
    iframe: null,
    modalWasOpened: false,
    didInsertElement: function() {
      var confirm,
        _this = this;

      this.$('.carousel').carousel();
      this.$('#btnWatchVideo').click(function() {
        _this.$('.modal').modal('show');
      });
      this.$('iframe').load(function() {
        _this.set('iframe', _this.$('iframe')[0].contentWindow);
      });
      this.$('.modal').on('hide.bs.modal', function() {
        _this.get('iframe').postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
      });
      this.$('.modal').on('shown.bs.modal', function() {
        if (_this.get('modalWasOpened')) {
          _this.get('iframe').postMessage('{"event":"command","func":"playVideo","args":""}', '*');
        } else {
          _this.set('modalWasOpened', true);
        }
      });
      confirm = this.$('#confirmContinue');
      confirm.css('margin-top', "-" + (confirm.height() + 10) + "px");
    }
  });

}).call(this);
